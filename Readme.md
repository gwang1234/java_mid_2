# 자바 중급 공부 2

<br><br>

## Generic

<br>

### 제너릭이 필요한 이유
- 타입이 다른데 코드중복이 있는 경우 다형성을 활용하면 된다
- 문제는 다형적 참조로 데이터를 생성하고 다운캐스팅할 때, 타입이 헷갈릴 수 있다는 점이다
  - 잘못된 타입의 인수를 전달할 수 있다는 것이다
  - 타입 안전성이 떨어짐

### 제너릭
- generic: 영어로 범용적인 이라는 뜻이다
- 클래스 선언할때 클래스명 옆 `<>`(다이아몬드 기호)도 같이 생성
- `<>`안에 타입 매개변수를 정의한다
- 제너릭 클래스를 생성할때, `<>`안에 원하는 타입을 지정
- 제너릭 안에 객체인 참조형만 넣을 수 있다 
- `<>`을 지정하지 않을 수 있는데, 원시 타입이라 한다

<br>

> Generic은 **코드 중복, 타입 안전성을 동시에 해결**할 수 있다

<br>

### 제너릭 용어

- 매개변수: parameter(받는값)
- 인자: argument(주는값)
- 타입 매개변수: `GenericBox<T>` 에서 `T`
- 타입 인자: `GenericBox<String>`에서 `String`

<br>

> 제너릭은 매개변수와 인자라는 용어를 가져와 타입을 붙어 사용  
> 값을 정하는 것이 아닌 **타입을 정하는데** 사용

<br>

### 타입 매개변수 제한
- 타입 매개변수를 어떤 타입이든 수용하면, `Object`기능만 사용할 수 있다
- 이 문제를 해결하기 위해, 타입 매개변수를 특정 타입으로 제한할 수 있다
  - `<T extends Animal>`이러면 Animal 기능만 쓸 수 있는 것

### 제네릭 타입, 메서드
- 제네릭 타입: `GenericClass<T>`
  - 객체를 생성하는 시점에 타입 인자 전달
  - 제네릭 타입은 static 메서드에 타입 매개변수를 사용할 수 없다
- 제네릭 메서드: `<T> T genericMethod(T t)`
  - 메서드를 생성하는 시점에 타입 인자 전달
  - 인스턴스 메서드, static 메서드에서도 사용할 수 있다
  - 자바 컴파일러는 타입 인자를 추론할 수 있다

<br>

> 제네릭 타입보다 제네릭 메서드가 높은 우선순위를 가진다

<br>

### 와일드카드
- `?`를 사용하여 정의
- `?`는 모든 타입을 받을 수 있다
- 제네릭 타입을 쉽게 활용할때 사용
- 반환타입을 동적으로 지정할 수 없다

<br>

> 타입 인자를 통한 타입 변경이 필요한 경우`<T>`를 사용하고 그렇지 않으면 와일드카드를 쓰는게 좋다

<br>

### 타입 이레이저
- 제너릭 타입은 컴파일 시점에만 존재하고, 런타임 시에는 제네릭 정보가 지워진다. 이를 타입 이레이저라 한다
- 때문에 런타임에 활용하는 코드는 작성할 수 없다
  - `instanceof`, `new`
  - 항상 `Object`와 비교하게 되므로 참이 반환된다.
  - `new Object`가 되어버리므로 `new`를 허용하지 않는다.

